{"version":3,"sources":["components/PersonForm.js","components/Filter.js","services/phonebook.js","components/Person.js","components/Notification.js","App.js","index.js"],"names":["PersonForm","submission","changeHandler","name","number","onSubmit","value","onChange","type","Filter","newSearch","handleSearch","baseUrl","exportedFunctions","getAll","axios","get","then","response","data","create","newObject","post","update","id","put","remove","delete","Person","person","deleted","onClick","styleSheet","success","color","background","fontSize","padding","marginBottom","fail","Notification","message","includes","className","style","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","setNewSearch","errorMessage","setErrorMessage","useEffect","phonebookService","event","target","preventDefault","personToUpdate","personObject","checkIfExists","find","window","confirm","returnedPerson","map","console","log","concat","setTimeout","filter","p","toLowerCase","catch","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ec04b202.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst PersonForm = ({submission, changeHandler, name, number}) => {\r\n    return (<form onSubmit={submission}>\r\n        <div>\r\n            name: <input name={'name'} value={name} onChange={changeHandler}/>\r\n        </div>\r\n        <div>\r\n            number: <input name={'number'} value={number} onChange={changeHandler}/>\r\n        </div>\r\n        <div>\r\n            <button type=\"submit\">add</button>\r\n        </div>\r\n    </form>)\r\n}\r\n\r\nexport default PersonForm","import React from \"react\";\r\n\r\nconst Filter = ({newSearch, handleSearch}) => {\r\n    return (\r\n        <div>filter shown with\r\n            <input value={newSearch} onChange={handleSearch}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst exportedFunctions = {\r\n    getAll,\r\n    create,\r\n    update,\r\n    remove\r\n}\r\n\r\n\r\nexport default exportedFunctions","import React from \"react\";\r\n\r\nconst Person = ({person, deleted}) => {\r\n    return (\r\n        <li>\r\n            {person.name} {person.number}\r\n            <button onClick={() => deleted(person.id)}>delete</button>\r\n        </li>)\r\n}\r\n\r\nexport default Person","import React from \"react\";\r\n\r\nconst Notification = ({message}) => {\r\n  if (message === null) {\r\n      return null\r\n  }\r\n    if(message.includes('server')){\r\n        return (\r\n            <div className='error' style={styleSheet.fail}>\r\n                {message}\r\n            </div>\r\n        )\r\n    }\r\n        return (\r\n            <div className='error' style={styleSheet.success}>\r\n                {message}\r\n            </div>\r\n        )\r\n\r\n}\r\n\r\nconst styleSheet = {\r\n    success:{\r\n        color: 'green',\r\n        background: 'lightgrey',\r\n        fontSize: '22px',\r\n        padding: '10px',\r\n        marginBottom: '10px',\r\n    },\r\n    fail: {\r\n        color: 'red',\r\n        background: 'lightgrey',\r\n        fontSize: '22px',\r\n        padding: '10px',\r\n        marginBottom: '10px',\r\n    }\r\n\r\n}\r\n\r\nexport default Notification","import React, {useEffect, useState} from 'react'\nimport PersonForm from \"./components/PersonForm\";\nimport Filter from \"./components/Filter\";\nimport phonebookService from \"./services/phonebook\";\nimport Person from \"./components/Person\";\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n    const [persons, setPersons] = useState([])\n    const [newName, setNewName] = useState('')\n    const [newNumber, setNewNumber] = useState('')\n    const [newSearch, setNewSearch] = useState('')\n    const [errorMessage, setErrorMessage] = useState(null)\n\n    useEffect(() => {\n        phonebookService.getAll()\n            .then(response => setPersons(response))\n\n    }, [])\n\n    const handleSearch = (event) => {\n        setNewSearch(event.target.value)\n    }\n\n    const handleChange = (event) => {\n        event.target.name === 'name' ? setNewName(event.target.value) : setNewNumber(event.target.value)\n    }\n\n    const updatePerson = (personToUpdate, number) => {\n        if (window.confirm(`${personToUpdate.name} is already added to phonebook. Replace the old number with a new one?`)) {\n            phonebookService.update(personToUpdate.id, {...personToUpdate, number: number})\n                .then(returnedPerson => {\n                    setPersons(persons.map(person => person.id !== personToUpdate.id ? person : returnedPerson))\n                    setNewName('')\n                    setNewNumber('')\n\n                })\n\n        } else {\n            console.log('fail');\n        }\n    }\n\n    const addPerson = (event) => {\n        event.preventDefault()\n        const personObject = {\n            name: newName,\n            number: newNumber\n        }\n        const checkIfExists = persons.find(person => person.name === newName)\n        checkIfExists ? updatePerson(checkIfExists, newNumber) :\n            phonebookService\n                .create(personObject)\n                .then(returnedPerson => {\n                        setPersons(persons.concat(returnedPerson))\n                        setErrorMessage(`${newName} has been added to phonebook`)\n                        setTimeout(() => {\n                            setErrorMessage(null)\n                        }, 5000)\n                        setNewName('')\n                        setNewNumber('')\n\n                    }\n                )\n    }\n    const deletePerson = (id) => {\n        phonebookService.remove(id).then(() => {\n            setPersons([...persons].filter(person => person.id !== id))\n        }).catch(() => {\n            setErrorMessage(\n                'information already removed from server'\n            )\n            setTimeout(() => {\n                setErrorMessage(null)\n            }, 5000)\n            setPersons([...persons].filter(person => person.id !== id))\n        })\n    }\n\n\n    return (\n        <div>\n            <h2>Phonebook</h2>\n            <Notification message={errorMessage}/>\n            <Filter newSearch={newSearch} handleSearch={handleSearch}/>\n            <h2>Add a new</h2>\n            <PersonForm submission={addPerson} changeHandler={handleChange} name={newName} number={newNumber}/>\n            <h2>Numbers</h2>\n            <ul>\n                {persons.filter(p => p.name.toLowerCase().includes(newSearch.toLowerCase())).map(person => <Person\n                    key={person.name} person={person} deleted={() => deletePerson(person.id)}/>)}\n\n            </ul>\n\n        </div>\n\n    )\n}\n\n\n\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(<App/>, document.getElementById('root'))\n\n\n"],"sourceRoot":""}